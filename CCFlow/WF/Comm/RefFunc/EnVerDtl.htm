<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>ccform 読み込み中ですので、少々お待ちください。
	<script type="text/javascript" src="../../Scripts/easyUI/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" src="../../Scripts/QueryString.js"></script>
    <script type="text/javascript" src="../../Scripts/config.js"></script>
    <script type="text/javascript" src="../Gener.js"></script>
  
    <!-- 该文件可以被集成厂商自己定义风格,可以自己修改,以达到流程设计器与自己的系统风格统一. -->
    <link href="../../../DataUser/Style/ccbpm.css" rel="Stylesheet" />

    <script type="text/javascript">


        $(function () {

            var enName = GetQueryString("EnName");
            var pk = GetQueryString("PK");

            var ens = new Entities("BP.Sys.EnVerDtls");
            ens.Retrieve(BP.Sys.EnVerDtlAttr.EnVerPK, enName + "_" + pkVal, "EnVer");


            var html = "<table>";
            html += "<caption>履歴変更バージョン記録</caption>";
            html += "<tr>";
            html += "<th>順序</th>";
            html += "<th>変更時間</th>";
            html += "<th>フィールド名</th>";
            html += "<th>古い値</th>";
            html += "<th>新しい値</th>";
            html += "<th>修正者</th>";
            html += "</tr>";

            for (var i = 0; i < ens.length; i++) {
                var en = ens[i];

                html += "<tr>";
                html += "<td>" + i + "</td>";
                html += "<td>" + en.RDT + "</td>";
                html += "<td>" + en.AttrName + "</td>";
                html += "<td>" + en.OldVal + "</td>";
                html += "<td>" + en.NewVal + "</td>";
                html += "<td>" + en.Rec + "</td>";
                html += "</tr>";
            }

            html += "</table>";

        })
         
    </script>
</head> 
<body  >
	 <div id="Info"></div>
</body>
</html>
